[{"path":[]},{"path":"https://ssdqa.github.io/patientfacts/articles/multisite_independent.html","id":"cross-sectional","dir":"Articles","previous_headings":"Multi-Site Exploratory Analysis","what":"Cross-Sectional","title":"Multi-Site Analysis for Independent Data Sources","text":"First, execute Single Site, Exploratory, Cross-Sectional analysis, configured appropriately study, data source. median_all_* columns reflect overall median using method. typically used baseline comparison metric pf_output. mind lack overall comparison metric just like compare site-level medians, need union table together adjust output_function accordingly. like overall median available, need output patient-level results addition standard summary output (patient_level_tbl = T). patient-level output returned data source, need union tables together pass functions .","code":"library(patientfacts)  my_table <- pf_process(cohort = my_cohort,                        multi_or_single_site = 'single',                        anomaly_or_exploratory = 'exploratory',                        time = F,                        patient_level_tbl = T / F,                        ...) my_final_results <- my_table1 %>% dplyr::union(my_table2) ... %>%   dplyr::union(my_table_n) %>%   dplyr::mutate(output_function = 'pf_ms_exp_cs') my_combined_results <- my_table1 %>% dplyr::union(my_table2) ... %>%   dplyr::union(my_table_n) %>%   dplyr::mutate(output_function = 'pf_ms_exp_cs')  my_final_results <-    patientfacts:::compute_pf_medians(data_input = my_combined_results,                                     site_col = 'site',                                     agegrp = age_groups # (as provided in pf_process)                                     )"},{"path":"https://ssdqa.github.io/patientfacts/articles/multisite_independent.html","id":"longitudinal","dir":"Articles","previous_headings":"Multi-Site Exploratory Analysis","what":"Longitudinal","title":"Multi-Site Analysis for Independent Data Sources","text":"Longitudinal analysis output overall comparative median, check, just execute Single Site, Exploratory, Longitudinal check data source union results together. Outputting patient level results required, option still available longitudinal analysis needed.","code":"my_table <- pf_process(cohort = my_cohort,                        multi_or_single_site = 'single',                        anomaly_or_exploratory = 'exploratory',                        time = T,                        patient_level_tbl = T / F,                        ...)  my_final_results <- my_table1 %>% dplyr::union(my_table2) ... %>%   dplyr::union(my_table_n) %>%   dplyr::mutate(output_function = 'pf_ms_exp_la')"},{"path":[]},{"path":"https://ssdqa.github.io/patientfacts/articles/multisite_independent.html","id":"cross-sectional-1","dir":"Articles","previous_headings":"Multi-Site Anomaly Detection Analysis","what":"Cross-Sectional","title":"Multi-Site Analysis for Independent Data Sources","text":"Follow instructions producing Multi-Site, Exploratory, Cross-Sectional output patient-level results. required anomaly detection process possible back-compute standard aggregated results. combined table patient-level results data source created, execute code (using functions squba.gen package) run anomaly detection analysis. p_value can selected user.","code":"my_summary_table <- my_combo_results %>%    group_by(site, visit_type, domain) %>%   summarise(tot_pt = n_distinct(person_id),              n_pt_fact = sum(var_ever)) %>%   mutate(prop_pt_fact = n_pt_fact / tot_pt)  df_start <- compute_dist_anomalies(df_tbl = my_summary_table,                                    grp_vars = c('domain', 'visit_type'),                                    var_col = 'prop_pt_fact',                                    denom_cols = c('domain', 'visit_type',                                                    'tot_pt'))  df_final <- detect_outliers(df_tbl = df_start,                             tail_input = 'both',                             p_input = p_value,                             column_analysis = 'prop_pt_fact',                             column_variable = c('domain', 'visit_type'))"},{"path":"https://ssdqa.github.io/patientfacts/articles/multisite_independent.html","id":"longitudinal-1","dir":"Articles","previous_headings":"Multi-Site Anomaly Detection Analysis","what":"Longitudinal","title":"Multi-Site Analysis for Independent Data Sources","text":"longitudinal analysis, start following instructions Multi-Site, Exploratory, Longitudinal analysis. , ms_anom_euclidean function, available squba.gen package, executed results. Copy code , inputting data generated.","code":"df_final <- ms_anom_euclidean(fot_input_tbl = my_table %>%                                  mutate(prop_pts_fact = pts_w_fact / pts_w_visit),                               grp_vars = c('site', 'visit_type', 'domain'),                               var_col = 'prop_pts_fact')"},{"path":"https://ssdqa.github.io/patientfacts/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Hanieh Razzaghi. Author. Kaleigh Wieand. Author, maintainer. Kimberley Dickinson. Author. Charles Bailey. Author.","code":""},{"path":"https://ssdqa.github.io/patientfacts/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Razzaghi H, Wieand K, Dickinson K, Bailey C (2025). patientfacts: Assess Patient Data Availability. R package version 0.0.0.9000, https://github.com/ssdqa/patientfacts.","code":"@Manual{,   title = {patientfacts: Assess Patient Data Availability},   author = {Hanieh Razzaghi and Kaleigh Wieand and Kimberley Dickinson and Charles Bailey},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/ssdqa/patientfacts}, }"},{"path":"https://ssdqa.github.io/patientfacts/index.html","id":"patient-facts","dir":"","previous_headings":"","what":"Assess Patient Data Availability","title":"Assess Patient Data Availability","text":"completeness-focused checks Patient Facts module assess availability patient clinical data. number clinical events per year follow-patient cohort computed stratified visit type order help investigators evaluate utilization patterns across cohort.","code":""},{"path":"https://ssdqa.github.io/patientfacts/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Assess Patient Data Availability","text":"can install development version package like :","code":"devtools::install_github('ssdqa/patientfacts')"},{"path":"https://ssdqa.github.io/patientfacts/reference/combine_study_facts.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine the output of compute_pf or compute_pf_for_fot into one dataframe — combine_study_facts","title":"Combine the output of compute_pf or compute_pf_for_fot into one dataframe — combine_study_facts","text":"Combine output compute_pf compute_pf_for_fot one dataframe","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/combine_study_facts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine the output of compute_pf or compute_pf_for_fot into one dataframe — combine_study_facts","text":"","code":"combine_study_facts(pf_tbl, study_abbr, domain_list, time, visit_type_list)"},{"path":"https://ssdqa.github.io/patientfacts/reference/combine_study_facts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine the output of compute_pf or compute_pf_for_fot into one dataframe — combine_study_facts","text":"pf_tbl table output compute_pf compute_pf_for_fot study_abbr string corresponds study/studies interest domain_list table definitions domain (.e. patientfacts::pf_domain_file) time logical indicating whether analysis conducted time visit_type_list types visits PF output; defaults : inpatient, outpatient, other_visit, ","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/combine_study_facts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine the output of compute_pf or compute_pf_for_fot into one dataframe — combine_study_facts","text":"dataframe containing information associated sites, domains, visit types study listed study_abbr","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_dist_mean_pf.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute distance from mean to identify patients with an anomalous number of facts per year of follow up — compute_dist_mean_pf","title":"Compute distance from mean to identify patients with an anomalous number of facts per year of follow up — compute_dist_mean_pf","text":"Compute distance mean identify patients anomalous number facts per year follow ","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_dist_mean_pf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute distance from mean to identify patients with an anomalous number of facts per year of follow up — compute_dist_mean_pf","text":"","code":"compute_dist_mean_pf(data_input, site_col, n_sd = 2, agegrp = NULL)"},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_dist_mean_pf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute distance from mean to identify patients with an anomalous number of facts per year of follow up — compute_dist_mean_pf","text":"data_input input table generated loop_through_visits reduced combine_study_facts site_col column data holds site names n_sd number standard deviations used threshold identify outlier agegrp like stratify results age group, create table CSV file following columns include agegrp function parameter: min_age: minimum age group (.e. 10) max_age: maximum age group (.e. 20) group: string label group (.e. \"10-20\", \"Young Adult\", etc.)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_dist_mean_pf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute distance from mean to identify patients with an anomalous number of facts per year of follow up — compute_dist_mean_pf","text":"dataframe summarises number patients fact counts fall +/- n_sd away mean visit_type + domain site, visit_type, + domain levels","code":"contains columns: person_id, start_date, end_date, fu, site, domain, var_val, var_ever, study,                       visit_type, n_fact, zscore_fact, outlier_fact, prop_outlier_fact, n_site_fact,                       zscore_site_fact, outlier_site_fact, prop_outlier_site_fact"},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute facts per patient for each time period within a user-defined time span — compute_pf_for_fot_omop","title":"Compute facts per patient for each time period within a user-defined time span — compute_pf_for_fot_omop","text":"Compute facts per patient time period within user-defined time span","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute facts per patient for each time period within a user-defined time span — compute_pf_for_fot_omop","text":"","code":"compute_pf_for_fot_omop(cohort, pf_input_tbl, grouped_list, domain_tbl)"},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_omop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute facts per patient for each time period within a user-defined time span — compute_pf_for_fot_omop","text":"cohort cohort patients interest study pf_input_tbl table relevant domain interest filtered desired visit type time period interest grouped_list vector column names input grouped domain_tbl table definitions domain (.e. patientfacts::pf_domain_file)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_omop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute facts per patient for each time period within a user-defined time span — compute_pf_for_fot_omop","text":"dataframe one column specified domains associated visit type interest summarizing facts time period within time span patient cohort","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_pcnt.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute facts per patient for each time_period within a user-defined time span — compute_pf_for_fot_pcnt","title":"Compute facts per patient for each time_period within a user-defined time span — compute_pf_for_fot_pcnt","text":"Compute facts per patient time_period within user-defined time span","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_pcnt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute facts per patient for each time_period within a user-defined time span — compute_pf_for_fot_pcnt","text":"","code":"compute_pf_for_fot_pcnt(cohort, pf_input_tbl, grouped_list, domain_tbl)"},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_pcnt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute facts per patient for each time_period within a user-defined time span — compute_pf_for_fot_pcnt","text":"cohort cohort patients interest study pf_input_tbl table relevant domain interest filtered desired visit type time period interest grouped_list vector column names input grouped domain_tbl table definitions domain (.e. patientfacts::pf_domain_file)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_for_fot_pcnt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute facts per patient for each time_period within a user-defined time span — compute_pf_for_fot_pcnt","text":"dataframe one column specified domains associated visit type interest summarizing facts time period within time span patient cohort","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_medians.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute median fact counts by visit & domain and by site, visit, & domain — compute_pf_medians","title":"Compute median fact counts by visit & domain and by site, visit, & domain — compute_pf_medians","text":"Compute median fact counts visit & domain site, visit, & domain","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_medians.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute median fact counts by visit & domain and by site, visit, & domain — compute_pf_medians","text":"","code":"compute_pf_medians(data_input, site_col, agegrp = NULL)"},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_medians.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute median fact counts by visit & domain and by site, visit, & domain — compute_pf_medians","text":"data_input input table generated loop_through_visits reduced combine_study_facts site_col column data holds site names agegrp like stratify results age group, create table CSV file following columns include agegrp function parameter: min_age: minimum age group (.e. 10) max_age: maximum age group (.e. 20) group: string label group (.e. \"10-20\", \"Young Adult\", etc.)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_medians.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute median fact counts by visit & domain and by site, visit, & domain — compute_pf_medians","text":"dataframe contains total median number facts visit & domain well median number facts site, visit, & domain study. medians compute patients evidence domain (0s) without patients (without 0s)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_omop","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_omop","text":"Compute patient facts per year cohort follow domain defined domain_tbl","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_omop","text":"","code":"compute_pf_omop(cohort, pf_input_tbl, grouped_list, domain_tbl)"},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_omop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_omop","text":"cohort cohort patients interest study pf_input_tbl table relevant domain interest filtered desired visit type interest grouped_list vector column names input grouped domain_tbl table definitions domain (.e. patientfacts::pf_domain_file)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_omop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_omop","text":"dataframe one column specified domains associated visit type interest summarizing facts per year follow patient cohort","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_pcnt.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_pcnt","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_pcnt","text":"Compute patient facts per year cohort follow domain defined domain_tbl","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_pcnt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_pcnt","text":"","code":"compute_pf_pcnt(cohort, pf_input_tbl, grouped_list, domain_tbl)"},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_pcnt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_pcnt","text":"cohort cohort patients interest study pf_input_tbl table relevant domain interest filtered desired visit type interest grouped_list vector column names input grouped domain_tbl table definitions domain (.e. patientfacts::pf_domain_file)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/compute_pf_pcnt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute patient facts per year of cohort follow up for each domain defined in the domain_tbl — compute_pf_pcnt","text":"dataframe one column specified domains associated visit type interest summarizing facts per year follow patient cohort","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_domain_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient Facts Domain File Sample — pf_domain_file","title":"Patient Facts Domain File Sample — pf_domain_file","text":"sample version file structure expected domain_tbl parameter pf_process function. user recreate file include domain definitions.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_domain_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient Facts Domain File Sample — pf_domain_file","text":"","code":"pf_domain_file"},{"path":[]},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_domain_file.html","id":"pf-domain-file","dir":"Reference","previous_headings":"","what":"pf_domain_file","title":"Patient Facts Domain File Sample — pf_domain_file","text":"dataframe 3 columns: domain arbitrary string label domain interest domain_tbl name CDM table associated domain interest filter_logic (optional) string parsed logic filter domain_tbl needed best represent domain","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_cs.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Site, Anomaly Detection, Cross-Sectional — pf_ms_anom_cs","title":"Multi-Site, Anomaly Detection, Cross-Sectional — pf_ms_anom_cs","text":"Multi-Site, Anomaly Detection, Cross-Sectional","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Site, Anomaly Detection, Cross-Sectional — pf_ms_anom_cs","text":"","code":"pf_ms_anom_cs(   data_tbl,   facet = NULL,   visit_filter = \"inpatient\",   large_n = FALSE,   large_n_sites = NULL )"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Site, Anomaly Detection, Cross-Sectional — pf_ms_anom_cs","text":"data_tbl output pf_process function facet variables facet (e.g., domain); vector strings visit_filter single visit_type interest used analysis large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Site, Anomaly Detection, Cross-Sectional — pf_ms_anom_cs","text":"dot plot shape dot represents whether point anomalous, color dot represents proportion patients given domain, size dot represents mean proportion across sites","code":"if no groups were eligible for anomaly detection analysis, a heatmap summarizing     the proportion of patients for a given domain & site and a dot plot summarizing     the average standard deviation for each site are returned as an alternative"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_la.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Site, Anomaly, Longitudinal — pf_ms_anom_la","title":"Multi-Site, Anomaly, Longitudinal — pf_ms_anom_la","text":"Multi-Site, Anomaly, Longitudinal","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Site, Anomaly, Longitudinal — pf_ms_anom_la","text":"","code":"pf_ms_anom_la(   process_output,   domain_filter,   visit_filter,   large_n = FALSE,   large_n_sites = NULL )"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Site, Anomaly, Longitudinal — pf_ms_anom_la","text":"process_output output pf_process function domain_filter one user provided domains process_output table used filter output visit_filter one user provided visit types process_output table used filter output large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_anom_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Site, Anomaly, Longitudinal — pf_ms_anom_la","text":"returns three graphs: line graph shows smoothed proportion domain across time computation Euclidean distance associated line line graph shows raw proportion domain across time computation Euclidean distance associated line bar graph Euclidean distance value site, average proportion fill","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_cs.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Site, Exploratory, Cross-Sectional — pf_ms_exp_cs","title":"Multi-Site, Exploratory, Cross-Sectional — pf_ms_exp_cs","text":"Multi-Site, Exploratory, Cross-Sectional","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Site, Exploratory, Cross-Sectional — pf_ms_exp_cs","text":"","code":"pf_ms_exp_cs(data_tbl, output, facet, large_n = FALSE, large_n_sites = NULL)"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Site, Exploratory, Cross-Sectional — pf_ms_exp_cs","text":"data_tbl output pf_process function output desired output - 2 options: median_site_with0s: specific site median, including patients evidence patient fact (e.g., domain = labs, includes median patients without labs) median_site_without0s: specific site median, including patients without evidence patient fact (e.g., domain = labs, includes median patients evidence lab) facet variables facet (e.g., domain); vector strings large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Site, Exploratory, Cross-Sectional — pf_ms_exp_cs","text":"dot plot displaying median facts per follow domain site compared -site median (star icon)","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_la.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-Site, Exploratory, Longitudinal — pf_ms_exp_la","title":"Multi-Site, Exploratory, Longitudinal — pf_ms_exp_la","text":"Multi-Site, Exploratory, Longitudinal","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-Site, Exploratory, Longitudinal — pf_ms_exp_la","text":"","code":"pf_ms_exp_la(   data_tbl,   output,   facet = NULL,   large_n = FALSE,   large_n_sites = NULL )"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-Site, Exploratory, Longitudinal — pf_ms_exp_la","text":"data_tbl output pf_process function output desired output - 2 options: median_fact_ct: median number facts domain specified time period sum_fact_ct: sum facts domain specified time period facet variables facet (e.g., domain); vector strings large_n boolean indicating whether large N visualization, intended high volume sites, used; defaults FALSE large_n_sites vector site names can optionally generate filtered visualization","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ms_exp_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-Site, Exploratory, Longitudinal — pf_ms_exp_la","text":"line graph representing output variable interest across time sites interest; site represented one line","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient Facts – Output Generation — pf_output","title":"Patient Facts – Output Generation — pf_output","text":"Using tabular output generated pf_process, function build graph visualize results. function configuration output bespoke ggplot. Theming can adjusted user graph output using + theme(). graphs can also made interactive using make_interactive_squba()","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient Facts – Output Generation — pf_output","text":"","code":"pf_output(   process_output,   output = NULL,   date_breaks_str = \"1 year\",   domain_filter = NULL,   visit_filter = NULL,   large_n = FALSE,   large_n_sites = NULL )"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Patient Facts – Output Generation — pf_output","text":"process_output tabular input || required tabular output produced pf_process Note patient-level results generated intended used function. output string || defaults NULL name numerical variable process_output used generate plot. input required following checks: Single Site, Exploratory, Cross-Sectional Multi-Site, Exploratory, Cross-Sectional Single Site, Anomaly Detection, Cross-Sectional Single Site, Exploratory Longitudinal Multi Site Exploratory Longitudinal date_breaks_str string || defaults 1 year string controls time period division x-axis ('1 year', '3 months', etc). parameter required Single Site, Exploratory, Longitudinal check. domain_filter string || defaults NULL string indicating domain interest plotting. parameter required following checks: Single Site, Anomaly Detection, Longitudinal Multi-Site, Anomaly Detection, Longitudinal visit_filter string || defaults NULL string indicating visit type interest plotting. parameter required following checks: Multi-Site, Anomaly Detection, Cross-Sectional Single Site, Anomaly Detection, Longitudinal Multi-Site, Anomaly Detection, Longitudinal large_n boolean || defaults FALSE Multi-Site analyses, boolean indicating whether large N visualization, intended high volume sites, used. visualization produce high level summaries across sites, option add specific site comparators via large_n_sites parameter. large_n_sites vector || defaults NULL large_n = TRUE, vector site names can add site-level information plot comparison across high level summary information.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_output.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Patient Facts – Output Generation — pf_output","text":"function produce graph visualize results pf_process based parameters provided. default output typically static ggplot gt object, interactive elements can activated passing plot make_interactive_squba. detailed description output specific check type, see PEDSpace metadata repository","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_output.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Patient Facts – Output Generation — pf_output","text":"","code":"#' Source setup file source(system.file('setup.R', package = 'patientfacts'))  #' Create in-memory RSQLite database using data in extdata directory conn <- mk_testdb_omop()  #' Establish connection to database and generate internal configurations initialize_dq_session(session_name = 'pf_process_test',                       working_directory = my_directory,                       db_conn = conn,                       is_json = FALSE,                       file_subdirectory = my_file_folder,                       cdm_schema = NA) #> Connected to: :memory:@NA #> To see environment settings, run `get_argos_default()`  ## turn of SQL trace for example config('db_trace', FALSE)  #' Build mock study cohort cohort <- cdm_tbl('person') %>% dplyr::distinct(person_id) %>%   dplyr::mutate(start_date = as.Date(-5000), # RSQLite does not store date objects,                                       # hence the numerics                 end_date = as.Date(15000),                 site = ifelse(person_id %in% c(1:6), 'synth1', 'synth2'))  #' Execute `pf_process` function #' This example will use the single site, exploratory, cross sectional #' configuration pf_process_example <- pf_process(cohort = cohort,                                  study_name = 'example_study',                                  multi_or_single_site = 'single',                                  anomaly_or_exploratory = 'exploratory',                                  visit_type_table =                                    patientfacts::pf_visit_file_omop,                                  omop_or_pcornet = 'omop',                                  visit_types = c('all'),                                  domain_tbl = patientfacts::pf_domain_file %>%                                    dplyr::filter(domain == 'diagnoses')) %>%   suppressMessages() #> ┌ Output Function Details ─────────────────────────────────────┐ #> │ You can optionally use this dataframe in the accompanying    │ #> │ `pf_output` function. Here are the parameters you will need: │ #> │                                                              │ #> │ Always Required: process_output                              │ #> │ Required for Check: output                                   │ #> │                                                              │ #> │ See ?pf_output for more details.                             │ #> └──────────────────────────────────────────────────────────────┘  pf_process_example #> # A tibble: 1 × 11 #>   study     site  visit_type domain median_all_with0s median_all_without0s n_tot #>   <chr>     <chr> <chr>      <chr>              <dbl>                <dbl> <dbl> #> 1 example_… comb… all        diagn…                 0                    0    12 #> # ℹ 4 more variables: n_w_fact <dbl>, median_site_with0s <dbl>, #> #   median_site_without0s <dbl>, output_function <chr>  #' Execute `pf_output` function #' The output was edited for a better indication of what the visualization will #' look like. #' The 0s are a limitation of the small sample data set used for this example pf_output_example <- pf_output(process_output = pf_process_example %>%                                  dplyr::mutate(median_site_without0s = 4),                                  ## tweak synthetic output for example                                output = 'median_site_without0s')  pf_output_example   #' Easily convert the graph into an interactive ggiraph or plotly object with #' `make_interactive_squba()`  make_interactive_squba(pf_output_example)  {\"x\":{\"data\":[{\"orientation\":\"h\",\"width\":0.89999999999999991,\"base\":0,\"x\":[4],\"y\":[1],\"text\":\"domain: diagnoses<br />median_site_without0s: 4<br />domain: diagnoses\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,77,111,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"diagnoses\",\"legendgroup\":\"diagnoses\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":34.995433789954348,\"r\":7.3059360730593621,\"b\":37.260273972602747,\"l\":78.173515981735179},\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.20000000000000001,4.2000000000000002],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"1\",\"2\",\"3\",\"4\"],\"tickvals\":[0,1,2,3,4],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"1\",\"2\",\"3\",\"4\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"annotations\":[{\"text\":\"Median Facts / Follow-Up for Patients with Fact\",\"x\":0.5,\"y\":0,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"top\",\"annotationType\":\"axis\",\"yshift\":-21.917808219178088},{\"text\":\"Domain\",\"x\":0,\"y\":0.5,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-90,\"xanchor\":\"right\",\"yanchor\":\"center\",\"annotationType\":\"axis\",\"xshift\":-62.831050228310502},{\"text\":\"all\",\"x\":0.5,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":11.68949771689498},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,1.6000000000000001],\"tickmode\":\"array\",\"ticktext\":[\"diagnoses\"],\"tickvals\":[1],\"categoryorder\":\"array\",\"categoryarray\":[\"diagnoses\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":23.37899543378996,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"showlegend\":true,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"195839906631\":{\"x\":{},\"y\":{},\"fill\":{},\"type\":\"bar\"}},\"cur_data\":\"195839906631\",\"visdat\":{\"195839906631\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient Facts — pf_process","title":"Patient Facts — pf_process","text":"completeness module compute number facts per years follow-patient cohort. user provide domains (domain_tbl) visit types (visit_type_tbl) interest. Sample versions inputs included data package accessible patientfacts::. Results can optionally stratified site, age group, visit type, /time. function compatible OMOP PCORnet CDMs based user's selection.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient Facts — pf_process","text":"","code":"pf_process(   cohort = cohort,   study_name = \"my_study\",   omop_or_pcornet = \"omop\",   multi_or_single_site = \"single\",   anomaly_or_exploratory = \"exploratory\",   time = FALSE,   time_span = c(\"2012-01-01\", \"2020-01-01\"),   time_period = \"year\",   p_value = 0.9,   age_groups = NULL,   patient_level_tbl = FALSE,   visit_types = c(\"outpatient\", \"inpatient\"),   domain_tbl = patientfacts::pf_domain_file,   visit_tbl = cdm_tbl(\"visit_occurrence\"),   visit_type_table = patientfacts::pf_visit_file_omop )"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Patient Facts — pf_process","text":"cohort tabular input || required cohort used data quality testing. table contain, minimum: site | character | name(s) institutions included cohort person_id / patid | integer / character | patient identifier start_date | date | start cohort period end_date | date | end cohort period Note start end dates included table used limit search window analyses module. study_name string || defaults my_study string identifier name study omop_or_pcornet string || required string, either omop pcornet, indicating CDM format data omop: run pf_process_omop() function OMOP CDM instance pcornet: run pf_process_pcornet() function PCORnet CDM instance multi_or_single_site string || defaults single string, either single multi, indicating whether single-site multi-site analysis executed anomaly_or_exploratory string || defaults exploratory string, either anomaly exploratory, indicating type results produced. Exploratory analyses give high level summary data examine fact representation within cohort. Anomaly detection analyses specialized identify outliers within cohort. time boolean || defaults FALSE boolean indicate whether execute longitudinal analysis time_span vector - length 2 || defaults c('2012-01-01', '2020-01-01') vector indicating lower upper bounds time series longitudinal analyses time_period string || defaults year string indicating distance dates within specified time_span. Defaults year, time periods month week also acceptable p_value numeric || defaults 0.9 p value used threshold Multi-Site, Anomaly Detection, Cross-Sectional analysis age_groups tabular input || defaults NULL like stratify results age group, create table CSV file following columns use input parameter: min_age | integer | minimum age group (.e. 10) max_age | integer | maximum age group (.e. 20) group | character | string label group (.e. 10-20, Young Adult, etc.) like stratify age group, leave NULL patient_level_tbl boolean || defaults FALSE boolean indicating whether additional table patient level results output. TRUE, output function list containing summary patient level output. Otherwise, function just output summary dataframe visit_types string vector || defaults c('outpatient', 'inpatient') string vector visit types output stratified. visit type listed parameter match associated visit type defined visit_type_table domain_tbl tabular input || required table defines fact domains investigated analysis. input contain: domain | character | string label domain examined (.e. prescription drugs) domain_tbl | character | CDM table information domain can found (.e. drug_exposure) filter_logic | character | logic applied domain_tbl order achieve definition interest; written applying dplyr::filter command R visit_tbl tabular input || defaults cdm_tbl('visit_occurrence') CDM table visit information (.e. visit_occurrence encounter) visit_type_table tabular input || required table defines visit types interest called visit_types. input contain: visit_concept_id / visit_detail_concept_id enc_type | integer character | visit_(detail)_concept_id enc_type represents visit type interest (.e. 9201 IP) visit_type | character | string label describe visit type","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Patient Facts — pf_process","text":"function return dataframe summarizing distribution facts per visit type user defined variable. can also optionally return un-summarized patient-level distributions. detailed description output specific check type, see PEDSpace metadata repository","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Patient Facts — pf_process","text":"","code":"#' Source setup file source(system.file('setup.R', package = 'patientfacts'))  #' Create in-memory RSQLite database using data in extdata directory conn <- mk_testdb_omop()  #' Establish connection to database and generate internal configurations initialize_dq_session(session_name = 'pf_process_test',                       working_directory = my_directory,                       db_conn = conn,                       is_json = FALSE,                       file_subdirectory = my_file_folder,                       cdm_schema = NA) #> Connected to: :memory:@NA #> To see environment settings, run `get_argos_default()`  ## turn of SQL trace for example config('db_trace', FALSE)  #' Build mock study cohort cohort <- cdm_tbl('person') %>% dplyr::distinct(person_id) %>%   dplyr::mutate(start_date = as.Date(-5000), # RSQLite does not store date objects,                                       # hence the numerics                 end_date = as.Date(15000),                 site = ifelse(person_id %in% c(1:6), 'synth1', 'synth2'))  #' Execute `pf_process` function #' This example will use the single site, exploratory, cross sectional #' configuration pf_process_example <- pf_process(cohort = cohort,                                  study_name = 'example_study',                                  multi_or_single_site = 'single',                                  anomaly_or_exploratory = 'exploratory',                                  visit_type_table =                                    patientfacts::pf_visit_file_omop,                                  omop_or_pcornet = 'omop',                                  visit_types = c('all'),                                  domain_tbl = patientfacts::pf_domain_file %>%                                    dplyr::filter(domain == 'diagnoses')) %>%   suppressMessages() #> ┌ Output Function Details ─────────────────────────────────────┐ #> │ You can optionally use this dataframe in the accompanying    │ #> │ `pf_output` function. Here are the parameters you will need: │ #> │                                                              │ #> │ Always Required: process_output                              │ #> │ Required for Check: output                                   │ #> │                                                              │ #> │ See ?pf_output for more details.                             │ #> └──────────────────────────────────────────────────────────────┘  pf_process_example #> # A tibble: 1 × 11 #>   study     site  visit_type domain median_all_with0s median_all_without0s n_tot #>   <chr>     <chr> <chr>      <chr>              <dbl>                <dbl> <dbl> #> 1 example_… comb… all        diagn…                 0                    0    12 #> # ℹ 4 more variables: n_w_fact <dbl>, median_site_with0s <dbl>, #> #   median_site_without0s <dbl>, output_function <chr>  #' Execute `pf_output` function #' The output was edited for a better indication of what the visualization will #' look like. #' The 0s are a limitation of the small sample data set used for this example pf_output_example <- pf_output(process_output = pf_process_example %>%                                  dplyr::mutate(median_site_without0s = 4),                                  ## tweak synthetic output for example                                output = 'median_site_without0s')  pf_output_example   #' Easily convert the graph into an interactive ggiraph or plotly object with #' `make_interactive_squba()`  make_interactive_squba(pf_output_example)  {\"x\":{\"data\":[{\"orientation\":\"h\",\"width\":0.89999999999999991,\"base\":0,\"x\":[4],\"y\":[1],\"text\":\"domain: diagnoses<br />median_site_without0s: 4<br />domain: diagnoses\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,77,111,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"diagnoses\",\"legendgroup\":\"diagnoses\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":34.995433789954348,\"r\":7.3059360730593621,\"b\":37.260273972602747,\"l\":78.173515981735179},\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.20000000000000001,4.2000000000000002],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"1\",\"2\",\"3\",\"4\"],\"tickvals\":[0,1,2,3,4],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"1\",\"2\",\"3\",\"4\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"annotations\":[{\"text\":\"Median Facts / Follow-Up for Patients with Fact\",\"x\":0.5,\"y\":0,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"top\",\"annotationType\":\"axis\",\"yshift\":-21.917808219178088},{\"text\":\"Domain\",\"x\":0,\"y\":0.5,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-90,\"xanchor\":\"right\",\"yanchor\":\"center\",\"annotationType\":\"axis\",\"xshift\":-62.831050228310502},{\"text\":\"all\",\"x\":0.5,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":11.68949771689498},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,1.6000000000000001],\"tickmode\":\"array\",\"ticktext\":[\"diagnoses\"],\"tickvals\":[1],\"categoryorder\":\"array\",\"categoryarray\":[\"diagnoses\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":23.37899543378996,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"showlegend\":true,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"19582ba6e6c6\":{\"x\":{},\"y\":{},\"fill\":{},\"type\":\"bar\"}},\"cur_data\":\"19582ba6e6c6\",\"visdat\":{\"19582ba6e6c6\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Facts per Patient – OMOP — pf_process_omop","title":"Clinical Facts per Patient – OMOP — pf_process_omop","text":"completeness check compute number facts per years follow-patient cohort. user provide domains (domain_tbl) visit types (visit_type_tbl) interest. Sample versions inputs included data package accessible patientfacts::. Results can optionally stratified site, age group, visit type, /time.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Facts per Patient – OMOP — pf_process_omop","text":"","code":"pf_process_omop(   cohort = cohort,   study_name = \"my_study\",   patient_level_tbl = FALSE,   visit_types = c(\"outpatient\", \"inpatient\"),   multi_or_single_site = \"single\",   time = FALSE,   time_span = c(\"2014-01-01\", \"2023-01-01\"),   time_period = \"year\",   p_value = 0.9,   age_groups = NULL,   anomaly_or_exploratory = \"exploratory\",   domain_tbl = patientfacts::pf_domain_file,   visit_tbl = cdm_tbl(\"visit_occurrence\"),   visit_type_table = patientfacts::pf_visit_file_omop )"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_omop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clinical Facts per Patient – OMOP — pf_process_omop","text":"cohort dataframe cohort patients study. include columns: person_id start_date end_date site study_name custom string label name study patient_level_tbl logical indicating whether additional table patient level results output; TRUE, output function list containing summary patient level output. Otherwise, function just output summary dataframe visit_types list visit types output stratified. Options visit types can found adjusted provided pf_visit_file_(omop/pcornet) file. like stratify results visit type, please set visit_types argument equal multi_or_single_site Option run function single vs multiple sites single: run function single site multi: run function multiple sites time logical tells function whether like look output cross-sectionally (FALSE) longitudinally (TRUE) time_span time = TRUE, argument defines start end dates time period interest. formatted c(start date, end date) yyyy-mm-dd date format. time_period time = TRUE, argument defines distance dates within specified time period. defaults year, time periods month week also acceptable p_value integer indicating p value used threshold multi-site anomaly detection analysis age_groups like stratify results age group, create table CSV file following columns include age_groups function parameter: min_age: minimum age group (.e. 10) max_age: maximum age group (.e. 20) group: string label group (.e. \"10-20\", \"Young Adult\", etc.) like stratify age group, leave argument NULL anomaly_or_exploratory Option conduct exploratory anomaly detection analysis. Exploratory analyses give high level summary data examine fact representation within cohort. Anomaly detection analyses specialized identify outliers within cohort. domain_tbl table defines domains facts identified. defaults provided pf_domain_file table, contains following fields: domain: string label domain examined (.e. prescription drugs) domain_tbl: CDM table information domain can found (.e. drug_exposure) filter_logic: optional string parsed logic filter domain_tbl needed best represent domain visit_tbl CDM table visit information (.e. visit_occurrence encounter) visit_type_table table defines available visit types called visit_types. defaults provided pf_visit_file_(omop/pcornet) file, contains following fields: visit_concept_id/visit_detail_concept_id enc_type: visit_concept_id enc_type represents visit type interest (.e. 9201 IP) visit_type: string label describe visit type; label can used multiple times within file multiple visit_concept_ids/enc_types represent visit type","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_omop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clinical Facts per Patient – OMOP — pf_process_omop","text":"dataframe summary results (.e. medians) can used input pf_output generate graphical output patient_level_tbl = TRUE, additional dataframe returned list format patient level output","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_omop.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Clinical Facts per Patient – OMOP — pf_process_omop","text":"version function compatible OMOP CDM.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_pcornet.html","id":null,"dir":"Reference","previous_headings":"","what":"Clinical Facts per Patient – PCORnet — pf_process_pcornet","title":"Clinical Facts per Patient – PCORnet — pf_process_pcornet","text":"completeness check compute number facts per years follow-patient cohort. user provide domains (domain_tbl) visit types (visit_type_tbl) interest. Sample versions inputs included data package accessible patientfacts::. Results can optionally stratified site, age group, visit type, /time.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_pcornet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clinical Facts per Patient – PCORnet — pf_process_pcornet","text":"","code":"pf_process_pcornet(   cohort = cohort,   study_name = \"my_study\",   patient_level_tbl = FALSE,   visit_types = c(\"outpatient\", \"inpatient\"),   multi_or_single_site = \"single\",   time = FALSE,   time_span = c(\"2014-01-01\", \"2023-01-01\"),   time_period = \"year\",   p_value = 0.9,   age_groups = NULL,   anomaly_or_exploratory = \"exploratory\",   domain_tbl = patientfacts::pf_domain_file,   visit_tbl = cdm_tbl(\"encounter\"),   visit_type_table = patientfacts::pf_visit_file_pcornet )"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_pcornet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clinical Facts per Patient – PCORnet — pf_process_pcornet","text":"cohort dataframe cohort patients study. include columns: person_id start_date end_date site study_name custom string label name study patient_level_tbl logical indicating whether additional table patient level results output; TRUE, output function list containing summary patient level output. Otherwise, function just output summary dataframe visit_types list visit types output stratified. Options visit types can found adjusted provided pf_visit_file_(omop/pcornet) file. like stratify results visit type, please set visit_types argument equal multi_or_single_site Option run function single vs multiple sites single: run function single site multi: run function multiple sites time logical tells function whether like look output cross-sectionally (FALSE) longitudinally (TRUE) time_span time = TRUE, argument defines start end dates time period interest. formatted c(start date, end date) yyyy-mm-dd date format. time_period time = TRUE, argument defines distance dates within specified time period. defaults year, time periods month week also acceptable p_value integer indicating p value used threshold multi-site anomaly detection analysis age_groups like stratify results age group, create table CSV file following columns include age_groups function parameter: min_age: minimum age group (.e. 10) max_age: maximum age group (.e. 20) group: string label group (.e. \"10-20\", \"Young Adult\", etc.) like stratify age group, leave argument NULL anomaly_or_exploratory Option conduct exploratory anomaly detection analysis. Exploratory analyses give high level summary data examine fact representation within cohort. Anomaly detection analyses specialized identify outliers within cohort. domain_tbl table defines domains facts identified. defaults provided pf_domain_file table, contains following fields: domain: string label domain examined (.e. prescription drugs) domain_tbl: CDM table information domain can found (.e. drug_exposure) filter_logic: optional string parsed logic filter domain_tbl needed best represent domain visit_tbl CDM table visit information (.e. visit_occurrence encounter) visit_type_table table defines available visit types called visit_types. defaults provided pf_visit_file_(omop/pcornet) file, contains following fields: visit_concept_id enc_type: visit_concept_id enc_type represents visit type interest (.e. 9201 IP) visit_type: string label describe visit type; label can used multiple times within file multiple visit_concept_ids/enc_types represent visit type","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_pcornet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clinical Facts per Patient – PCORnet — pf_process_pcornet","text":"dataframe summary results (.e. medians) can used input pf_output generate graphical output patient_level_tbl = TRUE, additional dataframe returned list format patient level output","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_process_pcornet.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Clinical Facts per Patient – PCORnet — pf_process_pcornet","text":"version function compatible PCORnet CDM.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_cs.html","id":null,"dir":"Reference","previous_headings":"","what":"Single Site, Anomaly Detection, Cross-Sectional — pf_ss_anom_cs","title":"Single Site, Anomaly Detection, Cross-Sectional — pf_ss_anom_cs","text":"Single Site, Anomaly Detection, Cross-Sectional","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Single Site, Anomaly Detection, Cross-Sectional — pf_ss_anom_cs","text":"","code":"pf_ss_anom_cs(data_tbl, output, facet = c(\"visit_type\"))"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Single Site, Anomaly Detection, Cross-Sectional — pf_ss_anom_cs","text":"data_tbl output pf_process function output desired output - 4 options: outlier_fact: number facts overall (.e. grouped site) fall 2 SD away mean prop_outlier_fact: proportion facts overall fall 2 SD away mean outlier_site_fact: number facts per site fall 2 SD away mean prop_outlier_site_fact: proportion facts per site fall 2 SD away mean facet variables facet (e.g., domain); vector strings","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Single Site, Anomaly Detection, Cross-Sectional — pf_ss_anom_cs","text":"bar graph displaying output value interest, represents patients falling +/- 2 standard deviations away mean facts per follow-given domain","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_la.html","id":null,"dir":"Reference","previous_headings":"","what":"Single Site, Anomaly, Longitudinal — pf_ss_anom_la","title":"Single Site, Anomaly, Longitudinal — pf_ss_anom_la","text":"Single Site, Anomaly, Longitudinal","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Single Site, Anomaly, Longitudinal — pf_ss_anom_la","text":"","code":"pf_ss_anom_la(data_tbl, facet, visit_filter, domain_filter)"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Single Site, Anomaly, Longitudinal — pf_ss_anom_la","text":"data_tbl output pf_process function facet variables facet (e.g., domain); vector strings visit_filter single visit type focus output domain_filter single domain focus output","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_anom_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Single Site, Anomaly, Longitudinal — pf_ss_anom_la","text":"analysis executed year greater, P Prime control chart returned outliers marked orange dots","code":"if analysis was executed by month or smaller, an STL regression is     conducted and outliers are marked with red dots. the graphs representing     the data removed in the regression are also returned"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_cs.html","id":null,"dir":"Reference","previous_headings":"","what":"Single-Site, Exploratory, Cross-Sectional — pf_ss_exp_cs","title":"Single-Site, Exploratory, Cross-Sectional — pf_ss_exp_cs","text":"Single-Site, Exploratory, Cross-Sectional","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_cs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Single-Site, Exploratory, Cross-Sectional — pf_ss_exp_cs","text":"","code":"pf_ss_exp_cs(data_tbl, output, facet)"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_cs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Single-Site, Exploratory, Cross-Sectional — pf_ss_exp_cs","text":"data_tbl output pf_process function output desired output - 2 options: median_site_with0s: specific site median, including patients evidence patient fact (e.g., domain = labs, includes median patients without labs) median_site_without0s: specific site median, including patients without evidence patient fact (e.g., domain = labs, includes median patients evidence lab) facet variables facet (e.g., domain); vector strings","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_cs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Single-Site, Exploratory, Cross-Sectional — pf_ss_exp_cs","text":"bar graph displaying median facts per follow-domain visit_type","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_la.html","id":null,"dir":"Reference","previous_headings":"","what":"Single Site, Exploratory, Longitudinal — pf_ss_exp_la","title":"Single Site, Exploratory, Longitudinal — pf_ss_exp_la","text":"Single Site, Exploratory, Longitudinal","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_la.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Single Site, Exploratory, Longitudinal — pf_ss_exp_la","text":"","code":"pf_ss_exp_la(data_tbl, output, facet, date_breaks_str = \"1 year\")"},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_la.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Single Site, Exploratory, Longitudinal — pf_ss_exp_la","text":"data_tbl output pf_process function output desired output - 2 options: median_fact_ct: median number facts domain specified time period sum_fact_ct: sum facts domain specified time period facet variables facet (e.g., domain); vector strings date_breaks_str string denote time broken chart","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_ss_exp_la.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Single Site, Exploratory, Longitudinal — pf_ss_exp_la","text":"dot line chart displaying output variable interest per domain across user specified time period","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_visit_file_omop.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient Facts Visit File Sample – OMOP version — pf_visit_file_omop","title":"Patient Facts Visit File Sample – OMOP version — pf_visit_file_omop","text":"sample version file structure expected visit_type_tbl parameter pf_process function selected CDM OMOP. user recreate file include domain definitions. ONE visit_concept_id visit_detail_concept_id used.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_visit_file_omop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient Facts Visit File Sample – OMOP version — pf_visit_file_omop","text":"","code":"pf_visit_file_omop"},{"path":[]},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_visit_file_omop.html","id":"pf-visit-file-omop","dir":"Reference","previous_headings":"","what":"pf_visit_file_omop","title":"Patient Facts Visit File Sample – OMOP version — pf_visit_file_omop","text":"dataframe 2 columns: visit_(detail)_concept_id visit_concept_id visit_detail_concept_id appears visit_occurrence table visit_type string label visit type visit_concept_id; string referenced visit_types parameter","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_visit_file_pcornet.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient Facts Visit File Sample – PCORnet version — pf_visit_file_pcornet","title":"Patient Facts Visit File Sample – PCORnet version — pf_visit_file_pcornet","text":"sample version file structure expected visit_type_tbl parameter pf_process function selected CDM PCORnet. user recreate file include domain definitions.","code":""},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_visit_file_pcornet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient Facts Visit File Sample – PCORnet version — pf_visit_file_pcornet","text":"","code":"pf_visit_file_pcornet"},{"path":[]},{"path":"https://ssdqa.github.io/patientfacts/reference/pf_visit_file_pcornet.html","id":"pf-visit-file-pcornet","dir":"Reference","previous_headings":"","what":"pf_visit_file_pcornet","title":"Patient Facts Visit File Sample – PCORnet version — pf_visit_file_pcornet","text":"dataframe 2 columns: enc_type enc_type appears encounter table visit_type string label visit type enc_type; string referenced visit_types parameter","code":""},{"path":"https://ssdqa.github.io/patientfacts/news/index.html","id":"patientfacts-development-version","dir":"Changelog","previous_headings":"","what":"patientfacts (development version)","title":"patientfacts (development version)","text":"Initial CRAN submission.","code":""}]
